decl n: expr;
decl t: num, '+', '-', '*', '/', '(', ')', '$';

expr : expr '+' expr  ` $0 = $1 + $3; `
     | expr '-' expr  ` $0 = $1 - $3; `
     | expr '*' expr  ` $0 = $1 * $3; `
     | expr '/' expr  ` $0 = $1 / $3; `
     | '+' expr       ` $0 = $2; `
     | '-' expr       ` $0 = -$2; `
     | '(' expr ')'   ` $0 = $2; `
     | num            ` $0 = $1; `
     ;

#attribute settings
set id num = 0, '+' = 1, '-' = 2, '*' = 3, '/' = 4, '(' = 5, ')' = 6, '$' = 7, expr = 8;
set prio '+'(post) = '-'(post) < '+' = '-' < '*'(post) = '/'(post) < '*' = '/' <;
set prio '+'(pre) = '-'(pre);
set start expr;
set end '$';
